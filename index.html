<html>
<head>
    <meta charset="utf-8" />
    <script src="https://unpkg.com/three@0.137.4/build/three.min.js"></script>
    <script src="https://unpkg.com/three@0.137.4/examples/js/controls/OrbitControls.js"></script>
</head>
<body>
    <script>
        // ページの読み込みを待つ
        window.addEventListener('DOMContentLoaded', init);

        function init() {
            // サイズを指定
            const width = 800
            const height = 600;

            // レンダラーを作成
            var renderer = new THREE.WebGLRenderer();
            document.body.appendChild(renderer.domElement);
            renderer.setSize(width, height);

            // レンダラー：シャドウを有効にする
            renderer.shadowMap.enabled = true;

            // シーンを作成
            const scene = new THREE.Scene();

            // カメラを作成
            const camera = new THREE.PerspectiveCamera(45, width / height);
            // カメラの初期座標を設定
            camera.position.set(0, 0, 5);

            // カメラコントローラーを作成
            const controls = new THREE.OrbitControls(camera, document.body);

            // 平行光源1
            var directionalLight1 = new THREE.DirectionalLight(0xffffff);
            directionalLight1.position.set(10, 10, 10);
            // シーンに追加
            scene.add(directionalLight1);
            // 平行光源2
            var directionalLight2 = new THREE.DirectionalLight(0x888888);
            directionalLight2.position.set(-10, -10, 10);
            scene.add(directionalLight2);

            /*// 平行光源(色、強さ）主光源
            var directionalLightM = new THREE.DirectionalLight(0xffffff, 0.3);
            directionalLightM.position.set(0, 10, -5);
            directionalLightM.castShadow = true; 
            // シーンに追加
            scene.add(directionalLightM);*/

            // helper
            const gridHelper = new THREE.GridHelper(2, 10); // size, step
            scene.add(gridHelper);
            const axisHelper = new THREE.AxisHelper(2); //軸の長さ　X：赤、Y：緑、z：青
            scene.add(axisHelper);

            // 箱を作成
            var geometry = new THREE.BoxGeometry(0.3, 0.3, 0.3);
            var material = new THREE.MeshPhongMaterial({ color: 0xc0c0c0, ambient: 0x990000, specular: 0xffff00, shininess: 30, metal: true});
            var box1 = new THREE.Mesh(geometry, material);
            box1.position.set(0, 1.1, 0);

            var geometry = new THREE.BoxGeometry(0.6, 1, 0.6);
            var material = new THREE.MeshPhongMaterial({ color: 0xadd8e6, ambient: 0x990000, specular: 0xffff00, shininess: 30, metal: true });
            var box2 = new THREE.Mesh(geometry, material);
            box2.position.set(0, 0.5, 0);
            
            var geometry = new THREE.BoxGeometry(0.1, 0.5, 0.3);
            var material = new THREE.MeshPhongMaterial({ color: 0xee82ee, ambient: 0x990000, specular: 0xffff00, shininess: 30, metal: true});
            var box3 = new THREE.Mesh(geometry, material);
            box3.position.set(0.3, 0.5, 0);

            var geometry = new THREE.BoxGeometry(0.1, 0.5, 0.3);
            var material = new THREE.MeshPhongMaterial({ color: 0xee82ee, ambient: 0x990000, specular: 0xffff00, shininess: 30, metal: true});
            var box4 = new THREE.Mesh(geometry, material);
            box4.position.set(-0.3, 0.5, 0);

            var geometry = new THREE.BoxGeometry(0.2, 0.01, 0);
            var material = new THREE.MeshPhongMaterial({ color: 0x000000, ambient: 0x990000, specular: 0xffff00, shininess: 30, metal: true});
            var box5 = new THREE.Mesh(geometry, material);
            box5.position.set(0, 1.05, 0.15);
            //scene.add(box1);

            var sphereGeometry = new THREE.SphereGeometry(0.1, 0.05, 100, 100);
            var sphereMaterial = new THREE.MeshPhongMaterial({ color: 0x696969, ambient: 0x990000, specular: 0xffff00, shininess: 30, metal: true});
            var sphere1 = new THREE.Mesh(sphereGeometry, sphereMaterial);
            sphere1.position.set(0.2, 0.01, 0);
            
            var sphereGeometry = new THREE.SphereGeometry(0.1, 0.05, 100, 100);
            var sphereMaterial = new THREE.MeshPhongMaterial({ color: 0x696969, ambient: 0x990000, specular: 0xffff00, shininess: 30, metal: true});
            var sphere2 = new THREE.Mesh(sphereGeometry, sphereMaterial);
            sphere2.position.set(-0.2, -0.01, 0);
            
            var sphereGeometry = new THREE.SphereGeometry(0.03, 0.03, 100, 100);
            var sphereMaterial = new THREE.MeshPhongMaterial({ color: 0xffa500, ambient: 0x990000, specular: 0xffff00, shininess: 30, metal: true });
            var eye1 = new THREE.Mesh(sphereGeometry, sphereMaterial);
            eye1.position.set(0.055, 1.13, 0.15);

            var sphereGeometry = new THREE.SphereGeometry(0.03, 0.03, 100, 100);
            var sphereMaterial = new THREE.MeshPhongMaterial({ color: 0xffa500, ambient: 0x990000, specular: 0xffff00, shininess: 30, metal: true });
            var eye2 = new THREE.Mesh(sphereGeometry, sphereMaterial);
            eye2.position.set(-0.055, 1.13, 0.15);

            //全体のオブジェクト
            //const all = new THREE.Object3D();
            const all = new THREE.Group()
            all.add(box1); // 箱1を追加
            all.add(box2);
            all.add(box3);
            all.add(box4);
            all.add(box5);
            all.add(sphere1); // 箱2を追加
            all.add(sphere2); // 箱3を追加
            all.add(eye1);
            all.add(eye2);
           
            all.position.set(0, 0, 0);//箱1～4のグループの原点の位置
            scene.add(all);

            update();

            // 毎フレーム時に実行されるループイベントです
            function update() {
             // レンダリング
             renderer.render(scene, camera);
             requestAnimationFrame(update);

             // 箱を回転させる
       
             all.rotation.x += 0.01;
             all.rotation.y += 0.01;

            }
        }
    </script>
</body>
</html>